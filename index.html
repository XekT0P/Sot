<!doctype html>
<html lang="bg">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Файлов Мениджър</title>
  <style>
    body { font-family: Arial, sans-serif; background: #0f1724; color: #e6eef6; margin: 0; padding: 20px; }
    .app { max-width: 800px; margin: 0 auto; background: #0b1220; padding: 15px; border-radius: 10px; }
    h1 { margin-top: 0; }
    .controls { margin-bottom: 15px; }
    input[type=file] { display: none; }
    label { background: #38bdf8; color: #000; padding: 8px 14px; border-radius: 6px; cursor: pointer; }
    .list { background: #111827; padding: 10px; border-radius: 6px; min-height: 200px; }
    .entry { display: flex; justify-content: space-between; align-items: center; background: #1e293b; margin-bottom: 6px; padding: 6px 10px; border-radius: 4px; }
    .entry span { flex: 1; }
    .entry button { margin-left: 6px; padding: 4px 8px; border: none; border-radius: 4px; cursor: pointer; }
    .open { background: #38bdf8; color: #000; }
    .download { background: #10b981; color: #000; }
  </style>
</head>
<body>
  <div class="app">
    <h1>Файлов Мениджър</h1>
    <div class="controls">
      <label>
        Качи файлове
        <input type="file" id="uploader" multiple accept=".pdf,.doc,.docx,.xls,.xlsx,.txt">
      </label>
    </div>
    <div class="list" id="fileList">Няма качени файлове</div>
  </div>

  <script>
    const uploader = document.getElementById("uploader");
    const fileList = document.getElementById("fileList");
    let files = [];

    uploader.addEventListener("change", (e) => {
      for (const file of e.target.files) {
        // добавяме файла в масива
        files.push(file);
      }
      renderList();
      uploader.value = ""; // изчистваме селекцията
    });

    function renderList() {
      fileList.innerHTML = "";
      if (files.length === 0) {
        fileList.textContent = "Няма качени файлове";
        return;
      }
      files.forEach((file, index) => {
        const div = document.createElement("div");
        div.className = "entry";
        const name = document.createElement("span");
        name.textContent = file.name;
        const openBtn = document.createElement("button");
        openBtn.textContent = "Отвори";
        openBtn.className = "open";
        openBtn.onclick = () => {
          const url = URL.createObjectURL(file);
          window.open(url, "_blank");
        };
        const downloadBtn = document.createElement("button");
        downloadBtn.textContent = "Свали";
        downloadBtn.className = "download";
        downloadBtn.onclick = () => {
          const url = URL.createObjectURL(file);
          const a = document.createElement("a");
          a.href = url;
          a.download = file.name;
          a.click();
          URL.revokeObjectURL(url);
        };
        div.appendChild(name);
        div.appendChild(openBtn);
        div.appendChild(downloadBtn);
        fileList.appendChild(div);
      });
    }
  </script>
</body>
</html>
